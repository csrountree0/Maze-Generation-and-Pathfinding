(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}})();let z=!1,j=!1,N=null,k=[],P=0,q=!1,$=!1,U=!1,C=null,E=null;function X(a,e){U=!0,document.getElementById("time-value").textContent="0s",document.getElementById("steps-value").textContent="0",A(-1,-1),S(-1,-1),C=[-1,-1],E=[-1,-1],P=e,k=Array(e).fill().map(()=>Array(e).fill(0));const t=document.getElementById(a);t.style.gridTemplateColumns=`repeat(${e}, 1fr)`,t.style.gridTemplateRows=`repeat(${e}, 1fr)`,t.innerHTML="";for(let n=0;n<e;n++)for(let l=0;l<e;l++){const r=document.createElement("div");r.className="grid-square",r.draggable=!1,r.dataset.row=n,r.dataset.col=l,r.style.backgroundColor="white",r.style.borderColor=r.style.backgroundColor,t.appendChild(r)}document.getElementById("time-value").textContent="0s",document.getElementById("steps-value").textContent="0"}function ee(a){const e=parseInt(a.dataset.row),t=parseInt(a.dataset.col);k[e][t]=a.style.backgroundColor==="black"?1:0}function w(){const e=document.getElementById("grid").getElementsByClassName("grid-square");for(let t=0;t<P;t++)for(let n=0;n<P;n++){const l=e[t*P+n];switch(k[t][n]){case 0:l.style.backgroundColor="white",l.style.borderColor="white";break;case 1:l.style.backgroundColor="black";break;case 2:l.style.backgroundColor="green";break;case 3:l.style.backgroundColor="red";break;case 4:l.style.backgroundColor="yellow";break;case 5:l.style.backgroundColor="purple";break;case 6:l.style.backgroundColor="blue";break;case 7:l.style.backgroundColor="orange";break;case 8:l.style.backgroundColor="pink";break;case 9:l.style.backgroundColor="cyan";break;case 10:l.style.backgroundColor="magenta";break;default:l.style.backgroundColor="white"}l.style.borderColor=l.style.backgroundColor}}document.addEventListener("DOMContentLoaded",()=>{X("grid",19),document.getElementById("grid-size").addEventListener("change",i=>{X("grid",parseInt(i.target.value))}),document.getElementById("reset-grid").addEventListener("click",()=>{X("grid",P)}),document.getElementById("reset-paths").addEventListener("click",()=>J());const a=document.getElementById("grid");let e=null;const t=document.createElement("div");t.className="draggable-point start-point",t.draggable=!0,t.textContent="Start",t.addEventListener("dragstart",i=>{e="start",i.dataTransfer.setData("text/plain","start")}),t.addEventListener("dragend",()=>{e=null});const n=document.createElement("div");n.className="draggable-point end-point",n.draggable=!0,n.textContent="End",n.addEventListener("dragstart",i=>{e="end",i.dataTransfer.setData("text/plain","end")}),n.addEventListener("dragend",()=>{e=null});const l=document.querySelector(".controls-panel"),r=document.createElement("div");r.className="points-container",r.appendChild(t),r.appendChild(n),l.insertBefore(r,l.firstChild),a.addEventListener("dragover",i=>{i.target.classList.contains("grid-square")&&e&&i.preventDefault()}),a.addEventListener("dragenter",i=>{if(!q&&!$&&i.target.classList.contains("grid-square")&&e){const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);k[u][s]!==1&&i.target.classList.add("drag-over")}}),a.addEventListener("dragleave",i=>{i.target.classList.contains("grid-square")&&e&&i.target.classList.remove("drag-over")}),a.addEventListener("drop",i=>{if(!q&&!$&&i.target.classList.contains("grid-square")&&e){i.preventDefault(),i.target.classList.remove("drag-over");const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);if(k[u][s]===1)return;e==="start"?(J(),C[0]!==-1&&(k[C[0]][C[1]]=0),C=[u,s],k[u][s]=2,A(u,s)):e==="end"&&(J(),E[0]!==-1&&(k[E[0]][E[1]]=0),E=[u,s],k[u][s]=3,S(u,s)),w(),e=null}});function o(i){if(!q&&!$&&i.target.classList.contains("grid-square")){const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);z=!0,N=i.target.closest(".grid-container"),j=i.target.style.backgroundColor!=="black",j?(k[u][s]===2?(C=[-1,-1],A(-1,-1)):k[u][s]===3&&(E=[-1,-1],S(-1,-1)),i.target.style.backgroundColor="black"):i.target.style.backgroundColor="white",i.target.style.borderColor=i.target.style.backgroundColor,ee(i.target)}}document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("mouseup",()=>{z=!1,N=null,j=!1}),document.addEventListener("touchend",()=>{z=!1,N=null,j=!1}),document.addEventListener("mouseleave",()=>{z=!1,N=null});function f(i){if(!q&&!$&&z&&i.target.classList.contains("grid-square")&&N===i.target.closest(".grid-container")){const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);j?(k[u][s]===2?(C=[-1,-1],A(-1,-1)):k[u][s]===3&&(E=[-1,-1],S(-1,-1)),i.target.style.backgroundColor="black"):i.target.style.backgroundColor="white",i.target.style.borderColor=i.target.style.backgroundColor,ee(i.target)}}document.addEventListener("mousemove",f),document.addEventListener("touchmove",f)});function J(){if(!q){U=!0;for(let a=0;a<P;a++)for(let e=0;e<P;e++)(k[a][e]===4||k[a][e]===5)&&(k[a][e]=0);w(),document.getElementById("time-value").textContent="0s",document.getElementById("steps-value").textContent="0",$=!1}}function B(a,e){!q&&!$||(a=(Date.now()-a)/1e3,document.getElementById("time-value").textContent=`${a}s`,document.getElementById("steps-value").textContent=`${e}`)}function F(){return k}function W(a){q=a}function le(){return q}function K(a){$=a}function re(){return $}function v(){return U}function V(a){U=a}function A(a,e){C=[a,e]}function S(a,e){E=[a,e]}function R(){return C}function T(){return E}let m,H,Y,Q=!1,_,M=0,Z=[];async function se(){Q=!1,m=F();const a=[];for(let e=0;e<m.length;e++){a.push([]);for(let t=0;t<m[e].length;t++)m[e][t]===2?H=[e,t]:m[e][t]===3&&(Y=[e,t]),e===0||e===m.length-1||t===0||t===m[e].length-1?a[e].push(1):a[e].push(0)}for(M=0,_=Date.now(),await G(a,H[0],H[1]),w(),await new Promise(requestAnimationFrame),B(_,M);Z.length>0&&!v();){let e=Z.pop();m[e[0]][e[1]]=4,w(),await new Promise(requestAnimationFrame)}}async function G(a,e,t){if(e===Y[0]&&t===Y[1]||v()===!0){Q=!0;return}m[e][t]!==2&&m[e][t]!==3&&(m[e][t]=5),a[e][t]=1,w(),await new Promise(requestAnimationFrame);let n=[1,2,3,4];for(;n.length>0&&!Q;){M++;let l=Math.floor(Math.random()*n.length);n[l]===1?e-1>0&&m[e-1][t]!==1&&!a[e-1][t]&&await G(a,e-1,t):n[l]===2?t+1<m.length-1&&m[e][t+1]!==1&&!a[e][t+1]&&await G(a,e,t+1):n[l]===3?e+1<m.length-1&&m[e+1][t]!==1&&!a[e+1][t]&&await G(a,e+1,t):t-1>0&&m[e][t-1]!==1&&!a[e][t-1]&&await G(a,e,t-1),n.splice(l,1),Q&&v()===!1&&(e!==H[0]||t!==H[1])&&Z.push([e,t])}}async function ie(){m=F();let a=R(),e=T(),t=[],n=[],l=[],r=new Set;for(let i=0;i<m.length;i++){t.push([]),n.push([]),l.push([]);for(let u=0;u<m.length;u++)t[i].push(1/0),n[i].push(0),l[i].push(null),m[i][u]!==1&&r.add(`${i},${u}`)}for(t[a[0]][a[1]]=0,M=0,_=Date.now();r.size>0&&!v();){M++;let i=null,u=1/0;for(let h of r){let[b,g]=h.split(",").map(Number);t[b][g]<u&&(u=t[b][g],i=[b,g])}if(i===null||i[0]===e[0]&&i[1]===e[1])break;let[s,c]=i;r.delete(`${s},${c}`),n[s][c]=1,!(s===a[0]&&c===a[1])&&!(s===e[0]&&c===e[1])&&(m[s][c]=5,w(),await new Promise(requestAnimationFrame));let p=[[-1,0],[1,0],[0,-1],[0,1]];for(let[h,b]of p){let g=s+h,y=c+b;if(g>=0&&g<m.length&&y>=0&&y<m.length&&m[g][y]!==1&&!n[g][y]){let x=t[s][c]+1;x<t[g][y]&&(t[g][y]=x,l[g][y]=[s,c])}}}let o=[],f=e;for(;f!==null;)o.unshift(f),f=l[f[0]][f[1]];B(_,M);for(let[i,u]of o){if(v()===!0)break;!(i===a[0]&&u===a[1])&&!(i===e[0]&&u===e[1])&&(m[i][u]=4,w(),await new Promise(requestAnimationFrame))}}async function oe(){m=F(),M=0;let a=[],e=[],t=[],n=new Map,l=new Set;function r(s,c){const p=Math.abs(s[0]-c[0]),h=Math.abs(s[1]-c[1]);return Math.min(p,h)*14+(Math.max(p,h)-Math.min(p,h))*10}let o=R(),f=T();for(let s=0;s<m.length;s++){a.push([]),e.push([]),t.push([]);for(let c=0;c<m.length;c++)a[s].push(1/0),e[s].push(1/0),t[s].push(null)}for(a[o[0]][o[1]]=0,e[o[0]][o[1]]=r(o,f),n.set(`${o[0]},${o[1]}`,e[o[0]][o[1]]),_=Date.now();n.size>0&&!v();){M++;let s=null,c=1/0;for(let[h,b]of n)b<c&&(c=b,s=h.split(",").map(Number));if(s===null||s[0]===f[0]&&s[1]===f[1])break;n.delete(`${s[0]},${s[1]}`),l.add(`${s[0]},${s[1]}`),!(s[0]===o[0]&&s[1]===o[1])&&!(s[0]===f[0]&&s[1]===f[1])&&(m[s[0]][s[1]]=5,w(),await new Promise(requestAnimationFrame));let p=[[-1,0],[1,0],[0,-1],[0,1]];for(let[h,b]of p){let g=[s[0]+h,s[1]+b];if(g[0]<0||g[0]>=m.length||g[1]<0||g[1]>=m.length||m[g[0]][g[1]]===1||l.has(`${g[0]},${g[1]}`))continue;let y=a[s[0]][s[1]]+1;y<a[g[0]][g[1]]&&(t[g[0]][g[1]]=s,a[g[0]][g[1]]=y,e[g[0]][g[1]]=a[g[0]][g[1]]+r(g,f),n.has(`${g[0]},${g[1]}`)||n.set(`${g[0]},${g[1]}`,e[g[0]][g[1]]))}}let i=[],u=f;for(;u!==null;)i.unshift(u),u=t[u[0]][u[1]];B(_,M);for(let[s,c]of i){if(v()===!0)break;!(s===o[0]&&c===o[1])&&!(s===f[0]&&c===f[1])&&(m[s][c]=4,w(),await new Promise(requestAnimationFrame))}}document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelectorAll(".algorithm-button");document.querySelector(".grid-container"),a.forEach(e=>{e.addEventListener("click",async()=>{const t=e.dataset.algorithm;if(!le()&&!re()){switch(J(),V(!1),t){case"backtracking-m":W(!0),await de();break;case"backtracking-p":K(!0),R()[0]!==-1&&T()[0]!==-1&&(V(!1),await se());break;case"kruskals":W(!0),await ce();break;case"dijkstra":K(!0),R()[0]!==-1&&T()[0]!==-1&&(console.log("run"),V(!1),await ie());break;case"astar":K(!0),R()[0]!==-1&&T()[0]!==-1&&(V(!1),await oe());break;case"prims":W(!0),await ue();break}W(!1),K(!1)}})})});var d,D,I=0;async function de(){d=F();let a=[];for(let n=0;n<d.length;n++){a.push([]);for(let l=0;l<d[n].length;l++)n===0||n===d.length-1||l===0||l===d[n].length-1?(d[n][l]=1,a[n].push(1)):!(l%2)||!(n%2)?(d[n][l]=1,a[n].push(0)):(d[n][l]=5,a[n].push(0))}w(),await new Promise(requestAnimationFrame);let e=Math.floor(Math.random()%(d.length-2));e=e%2?e:e+1;let t=Math.floor(Math.random()%(d.length-2));t=t%2?t:t+1,D=Date.now(),I=0,await O(e,t,a,e,t),!v()&&(A(1,1),S(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,B(D,I),w())}async function O(a,e,t,n,l){if(v()===!0)return;t[n][l]=1;let r=[1,2,3,4];for(;r.length>0&&v()===!1;){I++,d[n][l]=0;let o=Math.floor(Math.random()*r.length);r[o]===1?n-2>-1&&!t[n-2][l]&&(t[n-2][l]=1,d[n-1][l]=0,w(),await new Promise(requestAnimationFrame),await O(a,e,t,n-2,l)):r[o]===2?l+2<d.length&&!t[n][l+2]&&(t[n][l+2]=1,d[n][l+1]=0,w(),await new Promise(requestAnimationFrame),await O(a,e,t,n,l+2)):r[o]===3?l-2>-1&&!t[n][l-2]&&(t[n][l-2]=1,d[n][l-1]=0,w(),await new Promise(requestAnimationFrame),await O(a,e,t,n,l-2)):r[o]===4&&n+2<d.length&&!t[n+2][l]&&(t[n+2][l]=1,d[n+1][l]=0,w(),await new Promise(requestAnimationFrame),await O(a,e,t,n+2,l)),r.splice(o,1)}}async function ce(){d=F();let a=[],e=[],t=[],n=[],l=0;for(let r=0;r<d.length;r++){a.push([]),t.push([]),n.push([]);for(let o=0;o<d.length;o++)a[r].push([r,o]),t[r].push(Math.floor(Math.random()*5)+6),n[r].push(1),r===0||r===d.length-1||o===0||o===d.length-1?d[r][o]=1:!(o%2)||!(r%2)?(d[r][o]=1,r%2===0&&o%2===0||e.push([r,o])):(d[r][o]=t[r][o],l++)}for(w(),D=Date.now(),I=0;e.length>0&&!v();){I++;let r=Math.floor(Math.random()*e.length),o=e[r][0],f=e[r][1];if(o%2===0){let i=[o-1,f],u=[o+1,f];if(!ne(a,i,u)){d[o][f]=0;let s=L(a,i),c=L(a,u),p=n[s[0]][s[1]],h=n[c[0]][c[1]],b,g;if(p>=h){if(b=t[s[0]][s[1]],g=s,n[s[0]][s[1]]+=h,n[s[0]][s[1]]===l)break}else if(b=t[c[0]][c[1]],g=c,n[c[0]][c[1]]+=p,n[c[0]][c[1]]===l)break;te(a,t,p>=h?c:s,b),a[o][f]=g,t[o][f]=b,d[o][f]=b,ae(a,p>=h?u:i,p>=h?i:u)}}else{let i=[o,f-1],u=[o,f+1];if(!ne(a,i,u)){d[o][f]=0;let s=L(a,i),c=L(a,u),p=n[s[0]][s[1]],h=n[c[0]][c[1]],b,g;if(p>=h){if(b=t[s[0]][s[1]],g=s,n[s[0]][s[1]]+=h,n[s[0]][s[1]]===l)break}else if(b=t[c[0]][c[1]],g=c,n[c[0]][c[1]]+=p,n[c[0]][c[1]]===l)break;te(a,t,p>=h?c:s,b),a[o][f]=g,t[o][f]=b,d[o][f]=b,ae(a,p>=h?u:i,p>=h?i:u)}}e.splice(r,1),w(),await new Promise(requestAnimationFrame)}if(!v()){for(let r=0;r<d.length;r++){for(let o=0;o<d.length;o++)d[r][o]!==1&&(d[r][o]=0);w(),await new Promise(requestAnimationFrame)}B(D,I),A(1,1),S(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,w()}}function te(a,e,t,n){let l=[t],r=new Set;for(r.add(`${t[0]},${t[1]}`);l.length>0;){let[o,f]=l.shift();e[o][f]=n,d[o][f]=n;let i=[[-1,0],[1,0],[0,-1],[0,1]];for(let[u,s]of i){let c=o+u,p=f+s,h=`${c},${p}`;if(c>=0&&c<a.length&&p>=0&&p<a[0].length&&!r.has(h)){let b=L(a,[c,p]);b[0]===t[0]&&b[1]===t[1]&&(l.push([c,p]),r.add(h))}}}}function L(a,e){let[t,n]=e,l=[];for(;a[t][n][0]!==t||a[t][n][1]!==n;)l.push([t,n]),[t,n]=a[t][n];let r=[t,n];for(let[o,f]of l)a[o][f]=r;return r}function ae(a,e,t){let n=L(a,e),l=L(a,t);a[n[0]][n[1]]=l}function ne(a,e,t){let n=L(a,e),l=L(a,t);return n[0]===l[0]&&n[1]===l[1]}async function ue(){I=0,d=F();let a=[];for(let l=0;l<d.length;l++){a.push([]);for(let r=0;r<d.length;r++)a[l].push(0)}for(let l=0;l<d.length;l++)for(let r=0;r<d.length;r++)l===0||l===d.length-1||r===0||r===d.length-1||!(r%2)||!(l%2)?d[l][r]=1:d[l][r]=5;w();let e=Math.floor(Math.random()*(d.length-2)/2)*2+1,t=Math.floor(Math.random()*(d.length-2)/2)*2+1;a[e][t]=1,d[e][t]=0;let n=[];for(e>1&&n.push([e-1,t]),e<d.length-2&&n.push([e+1,t]),t>1&&n.push([e,t-1]),t<d.length-2&&n.push([e,t+1]),D=Date.now();n.length>0&&!v();){I++;let l=Math.floor(Math.random()*n.length),[r,o]=n[l],f,i;r%2===0?(f=[r-1,o],i=[r+1,o]):(f=[r,o-1],i=[r,o+1]);let u=a[f[0]][f[1]],s=a[i[0]][i[1]];if(u!==s){d[r][o]=0;let c=u?i:f;a[c[0]][c[1]]=1,d[c[0]][c[1]]=0;let[p,h]=c;p>1&&!a[p-2][h]&&n.push([p-1,h]),p<d.length-2&&!a[p+2][h]&&n.push([p+1,h]),h>1&&!a[p][h-2]&&n.push([p,h-1]),h<d.length-2&&!a[p][h+2]&&n.push([p,h+1]),w(),await new Promise(requestAnimationFrame)}n.splice(l,1)}v()||(B(D,I),A(1,1),S(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,w())}document.querySelector("#app").innerHTML=`
  <div class="app-container"> 
    <div class="main-header">
      <header>
        <h1>Maze Generation & Pathfinding Visualizer</h1>
        <p id="my-info">by <a href="https://github.com/csrountree0" target="_blank">Colby Rountree</a></p>
      </header>
    </div>
    
    <div class="visualization-container">
      <div class="controls-panel">
        <div class="control-group">
          <div class="size-control">
            <label for="grid-size">Grid Size:</label>
            <select id="grid-size">
              <option value="9">9x9</option>
              <option value="19" selected>19x19</option>
              <option value="29">29x29</option>
              <option value="39">39x39</option>
              <option value="49">49x49</option>
              <option value="59">59x59</option>
              <option value="69">69x69</option>
            </select>
          </div>
          <button class="reset-button" id="reset-grid">Reset Grid</button>
          <button class ="reset-button" id="reset-paths">Reset Paths</button>
        </div>

        <div class="section-controls">
          <h2>Maze Generation</h2>
          <div class="algorithm-buttons">
            <button draggable="true" class="algorithm-button" data-algorithm="backtracking-m">
              <span class="button-label">Backtracking</span>
              <span class="button-desc">Depth-first search maze generation</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="kruskals">
              <span class="button-label">Kruskal's</span>
              <span class="button-desc">Randomized maze with minimum spanning tree</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="prims">
              <span class="button-label">Prim's</span>
              <span class="button-desc">Minimum spanning tree maze generation</span>
            </button>
          </div>
        </div>

        <div class="section-controls">
          <h2>Pathfinding</h2>
          <div class="algorithm-buttons">
            <button draggable="true" class="algorithm-button" data-algorithm="backtracking-p">
              <span class="button-label">Backtracking</span>
              <span class="button-desc">Depth-first path search</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="dijkstra">
              <span class="button-label">Dijkstra's</span>
              <span class="button-desc">Shortest path algorithm</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="astar">
              <span class="button-label">A*</span>
              <span class="button-desc">Heuristic-based pathfinding</span>
            </button>
          </div>
        </div>
      </div>

      <div class="grids-container">
        <div class="grid-section">
          <div class="grid-header">
            <h3>Algorithm Stats</h3>
            <div class="algorithm-stats">
              <span class="stat-label">Time:</span>
              <span class="stat-value" id="time-value">0s</span>
              <span class="stat-label">Steps:</span>
              <span class="stat-value" id="steps-value">0</span>
            </div>
          </div>
          <div class="grid-container" id="grid"></div>
        </div>
      </div>
    </div>
  </div>
`;
