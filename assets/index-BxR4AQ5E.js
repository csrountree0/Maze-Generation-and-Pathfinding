(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();let S=!1,A=!1,F=null,v=[],M=0,P=!1,U=!1,C=null,L=null;function R(l,t){q(-1,-1),$(-1,-1),C=null,L=null,M=t,v=Array(t).fill().map(()=>Array(t).fill(0));const e=document.getElementById(l);e.style.gridTemplateColumns=`repeat(${t}, 1fr)`,e.style.gridTemplateRows=`repeat(${t}, 1fr)`,e.innerHTML="";for(let a=0;a<t;a++)for(let n=0;n<t;n++){const r=document.createElement("div");r.className="grid-square",r.draggable=!1,r.dataset.row=a,r.dataset.col=n,r.style.backgroundColor="white",r.style.borderColor=r.style.backgroundColor,e.appendChild(r)}}function K(l){const t=parseInt(l.dataset.row),e=parseInt(l.dataset.col);v[t][e]=l.style.backgroundColor==="black"?1:0}function w(){const t=document.getElementById("grid").getElementsByClassName("grid-square");for(let e=0;e<M;e++)for(let a=0;a<M;a++){const n=t[e*M+a];switch(v[e][a]){case 0:n.style.backgroundColor="white",n.style.borderColor="white";break;case 1:n.style.backgroundColor="black";break;case 2:n.style.backgroundColor="green";break;case 3:n.style.backgroundColor="red";break;case 4:n.style.backgroundColor="yellow";break;case 5:n.style.backgroundColor="purple";break;case 6:n.style.backgroundColor="blue";break;case 7:n.style.backgroundColor="orange";break;case 8:n.style.backgroundColor="pink";break;case 9:n.style.backgroundColor="cyan";break;case 10:n.style.backgroundColor="magenta";break;default:n.style.backgroundColor="white"}n.style.borderColor=n.style.backgroundColor}}document.addEventListener("DOMContentLoaded",()=>{R("grid",19),document.getElementById("grid-size").addEventListener("change",i=>{R("grid",parseInt(i.target.value))}),document.getElementById("reset-grid").addEventListener("click",()=>{R("grid",M)}),document.getElementById("reset-paths").addEventListener("click",()=>G());const l=document.getElementById("grid");let t=null;const e=document.createElement("div");e.className="draggable-point start-point",e.draggable=!0,e.textContent="Start",e.addEventListener("dragstart",i=>{t="start",i.dataTransfer.setData("text/plain","start")}),e.addEventListener("dragend",()=>{t=null});const a=document.createElement("div");a.className="draggable-point end-point",a.draggable=!0,a.textContent="End",a.addEventListener("dragstart",i=>{t="end",i.dataTransfer.setData("text/plain","end")}),a.addEventListener("dragend",()=>{t=null});const n=document.querySelector(".controls-panel"),r=document.createElement("div");r.className="points-container",r.appendChild(e),r.appendChild(a),n.insertBefore(r,n.firstChild),l.addEventListener("dragover",i=>{i.target.classList.contains("grid-square")&&t&&i.preventDefault()}),l.addEventListener("dragenter",i=>{if(!P&&i.target.classList.contains("grid-square")&&t){const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);v[u][s]!==1&&i.target.classList.add("drag-over")}}),l.addEventListener("dragleave",i=>{i.target.classList.contains("grid-square")&&t&&i.target.classList.remove("drag-over")}),l.addEventListener("drop",i=>{if(!P&&i.target.classList.contains("grid-square")&&t){i.preventDefault(),i.target.classList.remove("drag-over");const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);if(v[u][s]===1)return;t==="start"?(G(),C&&(v[C[0]][C[1]]=0),C=[u,s],v[u][s]=2,q(u,s)):t==="end"&&(G(),L&&(v[L[0]][L[1]]=0),L=[u,s],v[u][s]=3,$(u,s)),w(),t=null}});function o(i){if(!P&&i.target.classList.contains("grid-square")){const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);S=!0,F=i.target.closest(".grid-container"),A=i.target.style.backgroundColor!=="black",A?(v[u][s]===2?(C=null,q(-1,-1)):v[u][s]===3&&(L=null,$(-1,-1)),i.target.style.backgroundColor="black"):i.target.style.backgroundColor="white",i.target.style.borderColor=i.target.style.backgroundColor,K(i.target)}}document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("mouseup",()=>{S=!1,F=null,A=!1}),document.addEventListener("touchend",()=>{S=!1,F=null,A=!1}),document.addEventListener("mouseleave",()=>{S=!1,F=null});function f(i){if(!P&&S&&i.target.classList.contains("grid-square")&&F===i.target.closest(".grid-container")){const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);A?(v[u][s]===2?(C=null,q(-1,-1)):v[u][s]===3&&(L=null,$(-1,-1)),i.target.style.backgroundColor="black"):i.target.style.backgroundColor="white",i.target.style.borderColor=i.target.style.backgroundColor,K(i.target)}}document.addEventListener("mousemove",f),document.addEventListener("touchmove",f)});function G(){D(!0);for(let l=0;l<M;l++)for(let t=0;t<M;t++)(v[l][t]===4||v[l][t]===5)&&(v[l][t]=0);w()}function I(){return v}function y(l){P=l}function X(){return P}function _(){return U}function D(l){U=l}function q(l,t){C=[l,t]}function $(l,t){L=[l,t]}function B(){return C}function N(){return L}var m,T,H;let O=!1;async function Y(){O=!1,m=I();const l=[];for(let t=0;t<m.length;t++){l.push([]);for(let e=0;e<m[t].length;e++)m[t][e]===2?T=[t,e]:m[t][e]===3&&(H=[t,e]),t===0||t===m.length-1||e===0||e===m[t].length-1?l[t].push(1):l[t].push(0)}await j(l,T[0],T[1]),w(),await new Promise(requestAnimationFrame)}async function j(l,t,e){if(t===H[0]&&e===H[1]){O=!0;return}m[t][e]!==2&&m[t][e]!==3&&(m[t][e]=5),l[t][e]=1,w(),await new Promise(requestAnimationFrame);let a=[1,2,3,4];for(;a.length>0&&!O;){let n=Math.floor(Math.random()*a.length);a[n]===1?t-1>0&&m[t-1][e]!==1&&!l[t-1][e]&&await j(l,t-1,e):a[n]===2?e+1<m.length-1&&m[t][e+1]!==1&&!l[t][e+1]&&await j(l,t,e+1):a[n]===3?t+1<m.length-1&&m[t+1][e]!==1&&!l[t+1][e]&&await j(l,t+1,e):e-1>0&&m[t][e-1]!==1&&!l[t][e-1]&&await j(l,t,e-1),a.splice(n,1),O&&(t!==T[0]||e!==T[1])&&(m[t][e]=4)}}async function Z(){m=I(),y(!0);let l=B(),t=N(),e=[],a=[],n=[],r=new Set;for(let i=0;i<m.length;i++){e.push([]),a.push([]),n.push([]);for(let u=0;u<m.length;u++)e[i].push(1/0),a[i].push(0),n[i].push(null),m[i][u]!==1&&r.add(`${i},${u}`)}for(e[l[0]][l[1]]=0;r.size>0&&!_();){let i=null,u=1/0;for(let h of r){let[b,g]=h.split(",").map(Number);e[b][g]<u&&(u=e[b][g],i=[b,g])}if(i===null||i[0]===t[0]&&i[1]===t[1])break;let[s,c]=i;r.delete(`${s},${c}`),a[s][c]=1,!(s===l[0]&&c===l[1])&&!(s===t[0]&&c===t[1])&&(m[s][c]=5,w(),await new Promise(requestAnimationFrame));let p=[[-1,0],[1,0],[0,-1],[0,1]];for(let[h,b]of p){let g=s+h,k=c+b;if(g>=0&&g<m.length&&k>=0&&k<m.length&&m[g][k]!==1&&!a[g][k]){let W=e[s][c]+1;W<e[g][k]&&(e[g][k]=W,n[g][k]=[s,c])}}}let o=[],f=t;for(;f!==null;)o.unshift(f),f=n[f[0]][f[1]];for(let[i,u]of o)!(i===l[0]&&u===l[1])&&!(i===t[0]&&u===t[1])&&(m[i][u]=4,w(),await new Promise(requestAnimationFrame));y(!1)}async function x(){m=I(),y(!0);let l=[],t=[],e=[],a=new Map,n=new Set;function r(s,c){const p=Math.abs(s[0]-c[0]),h=Math.abs(s[1]-c[1]);return Math.min(p,h)*14+(Math.max(p,h)-Math.min(p,h))*10}let o=B(),f=N();for(let s=0;s<m.length;s++){l.push([]),t.push([]),e.push([]);for(let c=0;c<m.length;c++)l[s].push(1/0),t[s].push(1/0),e[s].push(null)}for(l[o[0]][o[1]]=0,t[o[0]][o[1]]=r(o,f),a.set(`${o[0]},${o[1]}`,t[o[0]][o[1]]);a.size>0&&!_();){let s=null,c=1/0;for(let[h,b]of a)b<c&&(c=b,s=h.split(",").map(Number));if(s===null||s[0]===f[0]&&s[1]===f[1])break;a.delete(`${s[0]},${s[1]}`),n.add(`${s[0]},${s[1]}`),!(s[0]===o[0]&&s[1]===o[1])&&!(s[0]===f[0]&&s[1]===f[1])&&(m[s[0]][s[1]]=5,w(),await new Promise(requestAnimationFrame));let p=[[-1,0],[1,0],[0,-1],[0,1]];for(let[h,b]of p){let g=[s[0]+h,s[1]+b];if(g[0]<0||g[0]>=m.length||g[1]<0||g[1]>=m.length||m[g[0]][g[1]]===1||n.has(`${g[0]},${g[1]}`))continue;let k=l[s[0]][s[1]]+1;k<l[g[0]][g[1]]&&(e[g[0]][g[1]]=s,l[g[0]][g[1]]=k,t[g[0]][g[1]]=l[g[0]][g[1]]+r(g,f),a.has(`${g[0]},${g[1]}`)||a.set(`${g[0]},${g[1]}`,t[g[0]][g[1]]))}}let i=[],u=f;for(;u!==null;)i.unshift(u),u=e[u[0]][u[1]];for(let[s,c]of i)!(s===o[0]&&c===o[1])&&!(s===f[0]&&c===f[1])&&(m[s][c]=4,w(),await new Promise(requestAnimationFrame));y(!1)}document.addEventListener("DOMContentLoaded",()=>{const l=document.querySelectorAll(".algorithm-button"),t=document.querySelector(".grid-container");l.forEach(e=>{e.addEventListener("dragstart",a=>{a.dataTransfer.setData("algorithm",a.target.dataset.algorithm)})}),t.addEventListener("dragover",e=>{e.preventDefault(),t.classList.add("drag-over")}),t.addEventListener("dragleave",e=>{t.contains(e.relatedTarget)||t.classList.remove("drag-over")}),t.addEventListener("drop",async e=>{e.preventDefault(),t.classList.remove("drag-over");const a=e.dataTransfer.getData("algorithm");if(!X())switch(G(),D(!1),a){case"backtracking-m":await ee();break;case"backtracking-p":B()!==null&&N()!==null&&(D(!1),await Y());break;case"kruskals":await te();break;case"dijkstra":B()!==null&&N()!==null&&(D(!1),await Z());break;case"astar":B()!==null&&N()!==null&&(D(!1),await x());break;case"prims":await ae();break}})});var d;async function ee(){d=I();let l=[];for(let a=0;a<d.length;a++){l.push([]);for(let n=0;n<d[a].length;n++)a===0||a===d.length-1||n===0||n===d[a].length-1?(d[a][n]=1,l[a].push(1)):!(n%2)||!(a%2)?(d[a][n]=1,l[a].push(0)):(d[a][n]=5,l[a].push(0))}w(),await new Promise(requestAnimationFrame);let t=Math.floor(Math.random()%(d.length-2));t=t%2?t:t+1;let e=Math.floor(Math.random()%(d.length-2));e=e%2?e:e+1,y(!0),await z(t,e,l,t,e),q(1,1),$(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,w(),y(!1)}async function z(l,t,e,a,n){e[a][n]=1;let r=[1,2,3,4];for(;r.length>0&&!_();){d[a][n]=0;let o=Math.floor(Math.random()*r.length);r[o]===1?a-2>-1&&!e[a-2][n]&&(e[a-2][n]=1,d[a-1][n]=0,w(),await new Promise(requestAnimationFrame),await z(l,t,e,a-2,n)):r[o]===2?n+2<d.length&&!e[a][n+2]&&(e[a][n+2]=1,d[a][n+1]=0,w(),await new Promise(requestAnimationFrame),await z(l,t,e,a,n+2)):r[o]===3?n-2>-1&&!e[a][n-2]&&(e[a][n-2]=1,d[a][n-1]=0,w(),await new Promise(requestAnimationFrame),await z(l,t,e,a,n-2)):r[o]===4&&a+2<d.length&&!e[a+2][n]&&(e[a+2][n]=1,d[a+1][n]=0,w(),await new Promise(requestAnimationFrame),await z(l,t,e,a+2,n)),r.splice(o,1)}}async function te(){y(!0),d=I();let l=[],t=[],e=[],a=[],n=0;for(let r=0;r<d.length;r++){l.push([]),e.push([]),a.push([]);for(let o=0;o<d.length;o++)l[r].push([r,o]),e[r].push(Math.floor(Math.random()*5)+6),a[r].push(1),r===0||r===d.length-1||o===0||o===d.length-1?d[r][o]=1:!(o%2)||!(r%2)?(d[r][o]=1,r%2===0&&o%2===0||t.push([r,o])):(d[r][o]=e[r][o],n++)}for(w();t.length>0&&!_();){let r=Math.floor(Math.random()*t.length),o=t[r][0],f=t[r][1];if(o%2===0){let i=[o-1,f],u=[o+1,f];if(!Q(l,i,u)){d[o][f]=0;let s=E(l,i),c=E(l,u),p=a[s[0]][s[1]],h=a[c[0]][c[1]],b,g;if(p>=h){if(b=e[s[0]][s[1]],g=s,a[s[0]][s[1]]+=h,a[s[0]][s[1]]===n)break}else if(b=e[c[0]][c[1]],g=c,a[c[0]][c[1]]+=p,a[c[0]][c[1]]===n)break;V(l,e,p>=h?c:s,b),l[o][f]=g,e[o][f]=b,d[o][f]=b,J(l,p>=h?u:i,p>=h?i:u)}}else{let i=[o,f-1],u=[o,f+1];if(!Q(l,i,u)){d[o][f]=0;let s=E(l,i),c=E(l,u),p=a[s[0]][s[1]],h=a[c[0]][c[1]],b,g;if(p>=h){if(b=e[s[0]][s[1]],g=s,a[s[0]][s[1]]+=h,a[s[0]][s[1]]===n)break}else if(b=e[c[0]][c[1]],g=c,a[c[0]][c[1]]+=p,a[c[0]][c[1]]===n)break;V(l,e,p>=h?c:s,b),l[o][f]=g,e[o][f]=b,d[o][f]=b,J(l,p>=h?u:i,p>=h?i:u)}}t.splice(r,1),w(),await new Promise(requestAnimationFrame)}for(let r=0;r<d.length;r++){for(let o=0;o<d.length;o++)d[r][o]!==1&&(d[r][o]=0);w(),await new Promise(requestAnimationFrame)}q(1,1),$(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,w(),y(!1)}function V(l,t,e,a){let n=[e],r=new Set;for(r.add(`${e[0]},${e[1]}`);n.length>0;){let[o,f]=n.shift();t[o][f]=a,d[o][f]=a;let i=[[-1,0],[1,0],[0,-1],[0,1]];for(let[u,s]of i){let c=o+u,p=f+s,h=`${c},${p}`;if(c>=0&&c<l.length&&p>=0&&p<l[0].length&&!r.has(h)){let b=E(l,[c,p]);b[0]===e[0]&&b[1]===e[1]&&(n.push([c,p]),r.add(h))}}}}function E(l,t){let[e,a]=t,n=[];for(;l[e][a][0]!==e||l[e][a][1]!==a;)n.push([e,a]),[e,a]=l[e][a];let r=[e,a];for(let[o,f]of n)l[o][f]=r;return r}function J(l,t,e){let a=E(l,t),n=E(l,e);l[a[0]][a[1]]=n}function Q(l,t,e){let a=E(l,t),n=E(l,e);return a[0]===n[0]&&a[1]===n[1]}async function ae(){d=I(),y(!0);let l=[];for(let n=0;n<d.length;n++){l.push([]);for(let r=0;r<d.length;r++)l[n].push(0)}for(let n=0;n<d.length;n++)for(let r=0;r<d.length;r++)n===0||n===d.length-1||r===0||r===d.length-1||!(r%2)||!(n%2)?d[n][r]=1:d[n][r]=5;w();let t=Math.floor(Math.random()*(d.length-2)/2)*2+1,e=Math.floor(Math.random()*(d.length-2)/2)*2+1;l[t][e]=1,d[t][e]=0;let a=[];for(t>1&&a.push([t-1,e]),t<d.length-2&&a.push([t+1,e]),e>1&&a.push([t,e-1]),e<d.length-2&&a.push([t,e+1]);a.length>0&&!_();){let n=Math.floor(Math.random()*a.length),[r,o]=a[n],f,i;r%2===0?(f=[r-1,o],i=[r+1,o]):(f=[r,o-1],i=[r,o+1]);let u=l[f[0]][f[1]],s=l[i[0]][i[1]];if(u!==s){d[r][o]=0;let c=u?i:f;l[c[0]][c[1]]=1,d[c[0]][c[1]]=0;let[p,h]=c;p>1&&!l[p-2][h]&&a.push([p-1,h]),p<d.length-2&&!l[p+2][h]&&a.push([p+1,h]),h>1&&!l[p][h-2]&&a.push([p,h-1]),h<d.length-2&&!l[p][h+2]&&a.push([p,h+1]),w(),await new Promise(requestAnimationFrame)}a.splice(n,1)}q(1,1),$(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,w(),y(!1)}document.querySelector("#app").innerHTML=`
  <div class="app-container"> 
    <div class="main-header">
      <header>
        <h1>Maze Generation & Pathfinding Visualizer</h1>
        <p id="my-info">by <a href="https://github.com/csrountree0">Colby Rountree</a></p>
      </header>
    </div>
    
    <div class="visualization-container">
      <div class="controls-panel">
        <div class="control-group">
          <div class="size-control">
            <label for="grid-size">Grid Size:</label>
            <select id="grid-size">
              <option value="9">9x9</option>
              <option value="19" selected>19x19</option>
              <option value="29">29x29</option>
              <option value="39">39x39</option>
              <option value="49">49x49</option>
              <option value="59">59x59</option>
              <option value="69">69x69</option>
            </select>
          </div>
          <button class="reset-button" id="reset-grid">Reset Grid</button>
          <button class ="reset-button" id="reset-paths">Reset Paths</button>
        </div>

        <div class="section-controls">
          <h2>Maze Generation</h2>
          <div class="algorithm-buttons">
            <button draggable="true" class="algorithm-button" data-algorithm="backtracking-m">
              <span class="button-label">Backtracking</span>
              <span class="button-desc">Depth-first search maze generation</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="kruskals">
              <span class="button-label">Kruskal's</span>
              <span class="button-desc">Randomized maze with minimum spanning tree</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="prims">
              <span class="button-label">Prim's</span>
              <span class="button-desc">Minimum spanning tree maze generation</span>
            </button>
          </div>
        </div>

        <div class="section-controls">
          <h2>Pathfinding</h2>
          <div class="algorithm-buttons">
            <button draggable="true" class="algorithm-button" data-algorithm="backtracking-p">
              <span class="button-label">Backtracking</span>
              <span class="button-desc">Depth-first path search</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="dijkstra">
              <span class="button-label">Dijkstra's</span>
              <span class="button-desc">Shortest path algorithm</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="astar">
              <span class="button-label">A*</span>
              <span class="button-desc">Heuristic-based pathfinding</span>
            </button>
          </div>
        </div>
      </div>

      <div class="grids-container">
        <div class="grid-section">
          <div class="grid-header">
            <h3>Algorithm Stats</h3>
            <div class="algorithm-stats">
              <span class="stat-label">Time:</span>
              <span class="stat-value" id="time-value">0ms</span>
              <span class="stat-label">Steps:</span>
              <span class="stat-value" id="steps-value">0</span>
            </div>
          </div>
          <div class="grid-container" id="grid"></div>
        </div>
      </div>
    </div>
  </div>
`;
