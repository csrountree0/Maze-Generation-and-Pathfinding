(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}})();let z=!1,B=!1,_=null,v=[],$=0,D=!1,U=!1,y=null,C=null;function V(n,e){document.getElementById("time-value").textContent="0s",document.getElementById("steps-value").textContent="0",I(-1,-1),P(-1,-1),y=null,C=null,$=e,v=Array(e).fill().map(()=>Array(e).fill(0));const t=document.getElementById(n);t.style.gridTemplateColumns=`repeat(${e}, 1fr)`,t.style.gridTemplateRows=`repeat(${e}, 1fr)`,t.innerHTML="";for(let a=0;a<e;a++)for(let l=0;l<e;l++){const r=document.createElement("div");r.className="grid-square",r.draggable=!1,r.dataset.row=a,r.dataset.col=l,r.style.backgroundColor="white",r.style.borderColor=r.style.backgroundColor,t.appendChild(r)}}function Y(n){const e=parseInt(n.dataset.row),t=parseInt(n.dataset.col);v[e][t]=n.style.backgroundColor==="black"?1:0}function w(){const e=document.getElementById("grid").getElementsByClassName("grid-square");for(let t=0;t<$;t++)for(let a=0;a<$;a++){const l=e[t*$+a];switch(v[t][a]){case 0:l.style.backgroundColor="white",l.style.borderColor="white";break;case 1:l.style.backgroundColor="black";break;case 2:l.style.backgroundColor="green";break;case 3:l.style.backgroundColor="red";break;case 4:l.style.backgroundColor="yellow";break;case 5:l.style.backgroundColor="purple";break;case 6:l.style.backgroundColor="blue";break;case 7:l.style.backgroundColor="orange";break;case 8:l.style.backgroundColor="pink";break;case 9:l.style.backgroundColor="cyan";break;case 10:l.style.backgroundColor="magenta";break;default:l.style.backgroundColor="white"}l.style.borderColor=l.style.backgroundColor}}document.addEventListener("DOMContentLoaded",()=>{V("grid",19),document.getElementById("grid-size").addEventListener("change",o=>{V("grid",parseInt(o.target.value))}),document.getElementById("reset-grid").addEventListener("click",()=>{V("grid",$)}),document.getElementById("reset-paths").addEventListener("click",()=>W());const n=document.getElementById("grid");let e=null;const t=document.createElement("div");t.className="draggable-point start-point",t.draggable=!0,t.textContent="Start",t.addEventListener("dragstart",o=>{e="start",o.dataTransfer.setData("text/plain","start")}),t.addEventListener("dragend",()=>{e=null});const a=document.createElement("div");a.className="draggable-point end-point",a.draggable=!0,a.textContent="End",a.addEventListener("dragstart",o=>{e="end",o.dataTransfer.setData("text/plain","end")}),a.addEventListener("dragend",()=>{e=null});const l=document.querySelector(".controls-panel"),r=document.createElement("div");r.className="points-container",r.appendChild(t),r.appendChild(a),l.insertBefore(r,l.firstChild),n.addEventListener("dragover",o=>{o.target.classList.contains("grid-square")&&e&&o.preventDefault()}),n.addEventListener("dragenter",o=>{if(!D&&o.target.classList.contains("grid-square")&&e){const u=parseInt(o.target.dataset.row),s=parseInt(o.target.dataset.col);v[u][s]!==1&&o.target.classList.add("drag-over")}}),n.addEventListener("dragleave",o=>{o.target.classList.contains("grid-square")&&e&&o.target.classList.remove("drag-over")}),n.addEventListener("drop",o=>{if(!D&&o.target.classList.contains("grid-square")&&e){o.preventDefault(),o.target.classList.remove("drag-over");const u=parseInt(o.target.dataset.row),s=parseInt(o.target.dataset.col);if(v[u][s]===1)return;e==="start"?(W(),y&&(v[y[0]][y[1]]=0),y=[u,s],v[u][s]=2,I(u,s)):e==="end"&&(W(),C&&(v[C[0]][C[1]]=0),C=[u,s],v[u][s]=3,P(u,s)),w(),e=null}});function i(o){if(!D&&o.target.classList.contains("grid-square")){const u=parseInt(o.target.dataset.row),s=parseInt(o.target.dataset.col);z=!0,_=o.target.closest(".grid-container"),B=o.target.style.backgroundColor!=="black",B?(v[u][s]===2?(y=null,I(-1,-1)):v[u][s]===3&&(C=null,P(-1,-1)),o.target.style.backgroundColor="black"):o.target.style.backgroundColor="white",o.target.style.borderColor=o.target.style.backgroundColor,Y(o.target)}}document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),document.addEventListener("mouseup",()=>{z=!1,_=null,B=!1}),document.addEventListener("touchend",()=>{z=!1,_=null,B=!1}),document.addEventListener("mouseleave",()=>{z=!1,_=null});function f(o){if(!D&&z&&o.target.classList.contains("grid-square")&&_===o.target.closest(".grid-container")){const u=parseInt(o.target.dataset.row),s=parseInt(o.target.dataset.col);B?(v[u][s]===2?(y=null,I(-1,-1)):v[u][s]===3&&(C=null,P(-1,-1)),o.target.style.backgroundColor="black"):o.target.style.backgroundColor="white",o.target.style.borderColor=o.target.style.backgroundColor,Y(o.target)}}document.addEventListener("mousemove",f),document.addEventListener("touchmove",f)});function W(){U=!0;for(let n=0;n<$;n++)for(let e=0;e<$;e++)(v[n][e]===4||v[n][e]===5)&&(v[n][e]=0);w()}function F(n,e){n=(Date.now()-n)/1e3,document.getElementById("time-value").textContent=`${n}s`,document.getElementById("steps-value").textContent=`${e}`}function j(){return v}function Z(n){D=n}function ae(){return D}function q(){return U}function H(n){U=n}function I(n,e){y=[n,e]}function P(n,e){C=[n,e]}function G(){return y}function O(){return C}let m,R,J,K=!1,A,E=0,Q=[];async function ne(){K=!1,m=j();const n=[];for(let e=0;e<m.length;e++){n.push([]);for(let t=0;t<m[e].length;t++)m[e][t]===2?R=[e,t]:m[e][t]===3&&(J=[e,t]),e===0||e===m.length-1||t===0||t===m[e].length-1?n[e].push(1):n[e].push(0)}for(E=0,A=Date.now(),await N(n,R[0],R[1]),w(),await new Promise(requestAnimationFrame);Q.length>0;){let e=Q.pop();m[e[0]][e[1]]=4,w(),await new Promise(requestAnimationFrame)}F(A,E)}async function N(n,e,t){if(e===J[0]&&t===J[1]||q()===!0){K=!0;return}m[e][t]!==2&&m[e][t]!==3&&(m[e][t]=5),n[e][t]=1,w(),await new Promise(requestAnimationFrame);let a=[1,2,3,4];for(;a.length>0&&!K;){E++;let l=Math.floor(Math.random()*a.length);a[l]===1?e-1>0&&m[e-1][t]!==1&&!n[e-1][t]&&await N(n,e-1,t):a[l]===2?t+1<m.length-1&&m[e][t+1]!==1&&!n[e][t+1]&&await N(n,e,t+1):a[l]===3?e+1<m.length-1&&m[e+1][t]!==1&&!n[e+1][t]&&await N(n,e+1,t):t-1>0&&m[e][t-1]!==1&&!n[e][t-1]&&await N(n,e,t-1),a.splice(l,1),K&&q()===!1&&(e!==R[0]||t!==R[1])&&Q.push([e,t])}}async function le(){m=j();let n=G(),e=O(),t=[],a=[],l=[],r=new Set;for(let o=0;o<m.length;o++){t.push([]),a.push([]),l.push([]);for(let u=0;u<m.length;u++)t[o].push(1/0),a[o].push(0),l[o].push(null),m[o][u]!==1&&r.add(`${o},${u}`)}for(t[n[0]][n[1]]=0,E=0,A=Date.now();r.size>0&&!q();){E++;let o=null,u=1/0;for(let h of r){let[b,g]=h.split(",").map(Number);t[b][g]<u&&(u=t[b][g],o=[b,g])}if(o===null||o[0]===e[0]&&o[1]===e[1])break;let[s,c]=o;r.delete(`${s},${c}`),a[s][c]=1,!(s===n[0]&&c===n[1])&&!(s===e[0]&&c===e[1])&&(m[s][c]=5,w(),await new Promise(requestAnimationFrame));let p=[[-1,0],[1,0],[0,-1],[0,1]];for(let[h,b]of p){let g=s+h,k=c+b;if(g>=0&&g<m.length&&k>=0&&k<m.length&&m[g][k]!==1&&!a[g][k]){let X=t[s][c]+1;X<t[g][k]&&(t[g][k]=X,l[g][k]=[s,c])}}}let i=[],f=e;for(;f!==null;)i.unshift(f),f=l[f[0]][f[1]];F(A,E);for(let[o,u]of i)!(o===n[0]&&u===n[1])&&!(o===e[0]&&u===e[1])&&(m[o][u]=4,w(),await new Promise(requestAnimationFrame))}async function re(){m=j(),E=0;let n=[],e=[],t=[],a=new Map,l=new Set;function r(s,c){const p=Math.abs(s[0]-c[0]),h=Math.abs(s[1]-c[1]);return Math.min(p,h)*14+(Math.max(p,h)-Math.min(p,h))*10}let i=G(),f=O();for(let s=0;s<m.length;s++){n.push([]),e.push([]),t.push([]);for(let c=0;c<m.length;c++)n[s].push(1/0),e[s].push(1/0),t[s].push(null)}for(n[i[0]][i[1]]=0,e[i[0]][i[1]]=r(i,f),a.set(`${i[0]},${i[1]}`,e[i[0]][i[1]]),A=Date.now();a.size>0&&!q();){E++;let s=null,c=1/0;for(let[h,b]of a)b<c&&(c=b,s=h.split(",").map(Number));if(s===null||s[0]===f[0]&&s[1]===f[1])break;a.delete(`${s[0]},${s[1]}`),l.add(`${s[0]},${s[1]}`),!(s[0]===i[0]&&s[1]===i[1])&&!(s[0]===f[0]&&s[1]===f[1])&&(m[s[0]][s[1]]=5,w(),await new Promise(requestAnimationFrame));let p=[[-1,0],[1,0],[0,-1],[0,1]];for(let[h,b]of p){let g=[s[0]+h,s[1]+b];if(g[0]<0||g[0]>=m.length||g[1]<0||g[1]>=m.length||m[g[0]][g[1]]===1||l.has(`${g[0]},${g[1]}`))continue;let k=n[s[0]][s[1]]+1;k<n[g[0]][g[1]]&&(t[g[0]][g[1]]=s,n[g[0]][g[1]]=k,e[g[0]][g[1]]=n[g[0]][g[1]]+r(g,f),a.has(`${g[0]},${g[1]}`)||a.set(`${g[0]},${g[1]}`,e[g[0]][g[1]]))}}let o=[],u=f;for(;u!==null;)o.unshift(u),u=t[u[0]][u[1]];F(A,E);for(let[s,c]of o)!(s===i[0]&&c===i[1])&&!(s===f[0]&&c===f[1])&&(m[s][c]=4,w(),await new Promise(requestAnimationFrame))}document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelectorAll(".algorithm-button"),e=document.querySelector(".grid-container");n.forEach(t=>{t.addEventListener("dragstart",a=>{a.dataTransfer.setData("algorithm",a.target.dataset.algorithm)})}),e.addEventListener("dragover",t=>{t.preventDefault(),e.classList.add("drag-over")}),e.addEventListener("dragleave",t=>{e.contains(t.relatedTarget)||e.classList.remove("drag-over")}),e.addEventListener("drop",async t=>{t.preventDefault(),e.classList.remove("drag-over");const a=t.dataTransfer.getData("algorithm");if(!ae()){switch(Z(!0),W(),H(!1),a){case"backtracking-m":await se();break;case"backtracking-p":G()!==null&&O()!==null&&(H(!1),await ne());break;case"kruskals":await oe();break;case"dijkstra":G()!==null&&O()!==null&&(console.log("run"),H(!1),await le()),console.log("no");break;case"astar":G()!==null&&O()!==null&&(H(!1),await re());break;case"prims":await ie();break}Z(!1)}})});var d,S,M=0;async function se(){d=j();let n=[];for(let a=0;a<d.length;a++){n.push([]);for(let l=0;l<d[a].length;l++)a===0||a===d.length-1||l===0||l===d[a].length-1?(d[a][l]=1,n[a].push(1)):!(l%2)||!(a%2)?(d[a][l]=1,n[a].push(0)):(d[a][l]=5,n[a].push(0))}w(),await new Promise(requestAnimationFrame);let e=Math.floor(Math.random()%(d.length-2));e=e%2?e:e+1;let t=Math.floor(Math.random()%(d.length-2));t=t%2?t:t+1,S=Date.now(),M=0,await T(e,t,n,e,t),I(1,1),P(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,F(S,M),w()}async function T(n,e,t,a,l){if(q()===!0)return;t[a][l]=1;let r=[1,2,3,4];for(;r.length>0&&q()===!1;){M++,d[a][l]=0;let i=Math.floor(Math.random()*r.length);r[i]===1?a-2>-1&&!t[a-2][l]&&(t[a-2][l]=1,d[a-1][l]=0,w(),await new Promise(requestAnimationFrame),await T(n,e,t,a-2,l)):r[i]===2?l+2<d.length&&!t[a][l+2]&&(t[a][l+2]=1,d[a][l+1]=0,w(),await new Promise(requestAnimationFrame),await T(n,e,t,a,l+2)):r[i]===3?l-2>-1&&!t[a][l-2]&&(t[a][l-2]=1,d[a][l-1]=0,w(),await new Promise(requestAnimationFrame),await T(n,e,t,a,l-2)):r[i]===4&&a+2<d.length&&!t[a+2][l]&&(t[a+2][l]=1,d[a+1][l]=0,w(),await new Promise(requestAnimationFrame),await T(n,e,t,a+2,l)),r.splice(i,1)}}async function oe(){d=j();let n=[],e=[],t=[],a=[],l=0;for(let r=0;r<d.length;r++){n.push([]),t.push([]),a.push([]);for(let i=0;i<d.length;i++)n[r].push([r,i]),t[r].push(Math.floor(Math.random()*5)+6),a[r].push(1),r===0||r===d.length-1||i===0||i===d.length-1?d[r][i]=1:!(i%2)||!(r%2)?(d[r][i]=1,r%2===0&&i%2===0||e.push([r,i])):(d[r][i]=t[r][i],l++)}for(w(),S=Date.now(),M=0;e.length>0&&!q();){M++;let r=Math.floor(Math.random()*e.length),i=e[r][0],f=e[r][1];if(i%2===0){let o=[i-1,f],u=[i+1,f];if(!te(n,o,u)){d[i][f]=0;let s=L(n,o),c=L(n,u),p=a[s[0]][s[1]],h=a[c[0]][c[1]],b,g;if(p>=h){if(b=t[s[0]][s[1]],g=s,a[s[0]][s[1]]+=h,a[s[0]][s[1]]===l)break}else if(b=t[c[0]][c[1]],g=c,a[c[0]][c[1]]+=p,a[c[0]][c[1]]===l)break;x(n,t,p>=h?c:s,b),n[i][f]=g,t[i][f]=b,d[i][f]=b,ee(n,p>=h?u:o,p>=h?o:u)}}else{let o=[i,f-1],u=[i,f+1];if(!te(n,o,u)){d[i][f]=0;let s=L(n,o),c=L(n,u),p=a[s[0]][s[1]],h=a[c[0]][c[1]],b,g;if(p>=h){if(b=t[s[0]][s[1]],g=s,a[s[0]][s[1]]+=h,a[s[0]][s[1]]===l)break}else if(b=t[c[0]][c[1]],g=c,a[c[0]][c[1]]+=p,a[c[0]][c[1]]===l)break;x(n,t,p>=h?c:s,b),n[i][f]=g,t[i][f]=b,d[i][f]=b,ee(n,p>=h?u:o,p>=h?o:u)}}e.splice(r,1),w(),await new Promise(requestAnimationFrame)}for(let r=0;r<d.length;r++){for(let i=0;i<d.length;i++)d[r][i]!==1&&(d[r][i]=0);w(),await new Promise(requestAnimationFrame)}F(S,M),I(1,1),P(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,w()}function x(n,e,t,a){let l=[t],r=new Set;for(r.add(`${t[0]},${t[1]}`);l.length>0;){let[i,f]=l.shift();e[i][f]=a,d[i][f]=a;let o=[[-1,0],[1,0],[0,-1],[0,1]];for(let[u,s]of o){let c=i+u,p=f+s,h=`${c},${p}`;if(c>=0&&c<n.length&&p>=0&&p<n[0].length&&!r.has(h)){let b=L(n,[c,p]);b[0]===t[0]&&b[1]===t[1]&&(l.push([c,p]),r.add(h))}}}}function L(n,e){let[t,a]=e,l=[];for(;n[t][a][0]!==t||n[t][a][1]!==a;)l.push([t,a]),[t,a]=n[t][a];let r=[t,a];for(let[i,f]of l)n[i][f]=r;return r}function ee(n,e,t){let a=L(n,e),l=L(n,t);n[a[0]][a[1]]=l}function te(n,e,t){let a=L(n,e),l=L(n,t);return a[0]===l[0]&&a[1]===l[1]}async function ie(){M=0,d=j();let n=[];for(let l=0;l<d.length;l++){n.push([]);for(let r=0;r<d.length;r++)n[l].push(0)}for(let l=0;l<d.length;l++)for(let r=0;r<d.length;r++)l===0||l===d.length-1||r===0||r===d.length-1||!(r%2)||!(l%2)?d[l][r]=1:d[l][r]=5;w();let e=Math.floor(Math.random()*(d.length-2)/2)*2+1,t=Math.floor(Math.random()*(d.length-2)/2)*2+1;n[e][t]=1,d[e][t]=0;let a=[];for(e>1&&a.push([e-1,t]),e<d.length-2&&a.push([e+1,t]),t>1&&a.push([e,t-1]),t<d.length-2&&a.push([e,t+1]),S=Date.now();a.length>0&&!q();){M++;let l=Math.floor(Math.random()*a.length),[r,i]=a[l],f,o;r%2===0?(f=[r-1,i],o=[r+1,i]):(f=[r,i-1],o=[r,i+1]);let u=n[f[0]][f[1]],s=n[o[0]][o[1]];if(u!==s){d[r][i]=0;let c=u?o:f;n[c[0]][c[1]]=1,d[c[0]][c[1]]=0;let[p,h]=c;p>1&&!n[p-2][h]&&a.push([p-1,h]),p<d.length-2&&!n[p+2][h]&&a.push([p+1,h]),h>1&&!n[p][h-2]&&a.push([p,h-1]),h<d.length-2&&!n[p][h+2]&&a.push([p,h+1]),w(),await new Promise(requestAnimationFrame)}a.splice(l,1)}F(S,M),I(1,1),P(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,w()}document.querySelector("#app").innerHTML=`
  <div class="app-container"> 
    <div class="main-header">
      <header>
        <h1>Maze Generation & Pathfinding Visualizer</h1>
        <p id="my-info">by <a href="https://github.com/csrountree0" target="_blank">Colby Rountree</a></p>
      </header>
    </div>
    
    <div class="visualization-container">
      <div class="controls-panel">
        <div class="control-group">
          <div class="size-control">
            <label for="grid-size">Grid Size:</label>
            <select id="grid-size">
              <option value="9">9x9</option>
              <option value="19" selected>19x19</option>
              <option value="29">29x29</option>
              <option value="39">39x39</option>
              <option value="49">49x49</option>
              <option value="59">59x59</option>
              <option value="69">69x69</option>
            </select>
          </div>
          <button class="reset-button" id="reset-grid">Reset Grid</button>
          <button class ="reset-button" id="reset-paths">Reset Paths</button>
        </div>

        <div class="section-controls">
          <h2>Maze Generation</h2>
          <div class="algorithm-buttons">
            <button draggable="true" class="algorithm-button" data-algorithm="backtracking-m">
              <span class="button-label">Backtracking</span>
              <span class="button-desc">Depth-first search maze generation</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="kruskals">
              <span class="button-label">Kruskal's</span>
              <span class="button-desc">Randomized maze with minimum spanning tree</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="prims">
              <span class="button-label">Prim's</span>
              <span class="button-desc">Minimum spanning tree maze generation</span>
            </button>
          </div>
        </div>

        <div class="section-controls">
          <h2>Pathfinding</h2>
          <div class="algorithm-buttons">
            <button draggable="true" class="algorithm-button" data-algorithm="backtracking-p">
              <span class="button-label">Backtracking</span>
              <span class="button-desc">Depth-first path search</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="dijkstra">
              <span class="button-label">Dijkstra's</span>
              <span class="button-desc">Shortest path algorithm</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="astar">
              <span class="button-label">A*</span>
              <span class="button-desc">Heuristic-based pathfinding</span>
            </button>
          </div>
        </div>
      </div>

      <div class="grids-container">
        <div class="grid-section">
          <div class="grid-header">
            <h3>Algorithm Stats</h3>
            <div class="algorithm-stats">
              <span class="stat-label">Time:</span>
              <span class="stat-value" id="time-value">0s</span>
              <span class="stat-label">Steps:</span>
              <span class="stat-value" id="steps-value">0</span>
            </div>
          </div>
          <div class="grid-container" id="grid"></div>
        </div>
      </div>
    </div>
  </div>
`;
