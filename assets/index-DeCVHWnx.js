(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();let z=!1,B=!1,_=null,v=[],$=0,D=!1,U=!1,y=null,C=null;function V(n,e){document.getElementById("time-value").textContent="0s",document.getElementById("steps-value").textContent="0",I(-1,-1),P(-1,-1),y=[-1,-1],C=[-1,-1],$=e,v=Array(e).fill().map(()=>Array(e).fill(0));const t=document.getElementById(n);t.style.gridTemplateColumns=`repeat(${e}, 1fr)`,t.style.gridTemplateRows=`repeat(${e}, 1fr)`,t.innerHTML="";for(let a=0;a<e;a++)for(let r=0;r<e;r++){const l=document.createElement("div");l.className="grid-square",l.draggable=!1,l.dataset.row=a,l.dataset.col=r,l.style.backgroundColor="white",l.style.borderColor=l.style.backgroundColor,t.appendChild(l)}}function Y(n){const e=parseInt(n.dataset.row),t=parseInt(n.dataset.col);v[e][t]=n.style.backgroundColor==="black"?1:0}function w(){const e=document.getElementById("grid").getElementsByClassName("grid-square");for(let t=0;t<$;t++)for(let a=0;a<$;a++){const r=e[t*$+a];switch(v[t][a]){case 0:r.style.backgroundColor="white",r.style.borderColor="white";break;case 1:r.style.backgroundColor="black";break;case 2:r.style.backgroundColor="green";break;case 3:r.style.backgroundColor="red";break;case 4:r.style.backgroundColor="yellow";break;case 5:r.style.backgroundColor="purple";break;case 6:r.style.backgroundColor="blue";break;case 7:r.style.backgroundColor="orange";break;case 8:r.style.backgroundColor="pink";break;case 9:r.style.backgroundColor="cyan";break;case 10:r.style.backgroundColor="magenta";break;default:r.style.backgroundColor="white"}r.style.borderColor=r.style.backgroundColor}}document.addEventListener("DOMContentLoaded",()=>{V("grid",19),document.getElementById("grid-size").addEventListener("change",i=>{V("grid",parseInt(i.target.value))}),document.getElementById("reset-grid").addEventListener("click",()=>{V("grid",$)}),document.getElementById("reset-paths").addEventListener("click",()=>W());const n=document.getElementById("grid");let e=null;const t=document.createElement("div");t.className="draggable-point start-point",t.draggable=!0,t.textContent="Start",t.addEventListener("dragstart",i=>{e="start",i.dataTransfer.setData("text/plain","start")}),t.addEventListener("dragend",()=>{e=null});const a=document.createElement("div");a.className="draggable-point end-point",a.draggable=!0,a.textContent="End",a.addEventListener("dragstart",i=>{e="end",i.dataTransfer.setData("text/plain","end")}),a.addEventListener("dragend",()=>{e=null});const r=document.querySelector(".controls-panel"),l=document.createElement("div");l.className="points-container",l.appendChild(t),l.appendChild(a),r.insertBefore(l,r.firstChild),n.addEventListener("dragover",i=>{i.target.classList.contains("grid-square")&&e&&i.preventDefault()}),n.addEventListener("dragenter",i=>{if(!D&&i.target.classList.contains("grid-square")&&e){const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);v[u][s]!==1&&i.target.classList.add("drag-over")}}),n.addEventListener("dragleave",i=>{i.target.classList.contains("grid-square")&&e&&i.target.classList.remove("drag-over")}),n.addEventListener("drop",i=>{if(!D&&i.target.classList.contains("grid-square")&&e){i.preventDefault(),i.target.classList.remove("drag-over");const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);if(v[u][s]===1)return;e==="start"?(W(),y[0]!==-1&&(v[y[0]][y[1]]=0),y=[u,s],v[u][s]=2,I(u,s)):e==="end"&&(W(),C[0]!==-1&&(v[C[0]][C[1]]=0),C=[u,s],v[u][s]=3,P(u,s)),w(),e=null}});function o(i){if(!D&&i.target.classList.contains("grid-square")){const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);z=!0,_=i.target.closest(".grid-container"),B=i.target.style.backgroundColor!=="black",B?(v[u][s]===2?(y=[-1,-1],I(-1,-1)):v[u][s]===3&&(C=[-1,-1],P(-1,-1)),i.target.style.backgroundColor="black"):i.target.style.backgroundColor="white",i.target.style.borderColor=i.target.style.backgroundColor,Y(i.target)}}document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("mouseup",()=>{z=!1,_=null,B=!1}),document.addEventListener("touchend",()=>{z=!1,_=null,B=!1}),document.addEventListener("mouseleave",()=>{z=!1,_=null});function f(i){if(!D&&z&&i.target.classList.contains("grid-square")&&_===i.target.closest(".grid-container")){const u=parseInt(i.target.dataset.row),s=parseInt(i.target.dataset.col);B?(v[u][s]===2?(y=[-1,-1],I(-1,-1)):v[u][s]===3&&(C=[-1,-1],P(-1,-1)),i.target.style.backgroundColor="black"):i.target.style.backgroundColor="white",i.target.style.borderColor=i.target.style.backgroundColor,Y(i.target)}}document.addEventListener("mousemove",f),document.addEventListener("touchmove",f)});function W(){U=!0;for(let n=0;n<$;n++)for(let e=0;e<$;e++)(v[n][e]===4||v[n][e]===5)&&(v[n][e]=0);w()}function F(n,e){n=(Date.now()-n)/1e3,document.getElementById("time-value").textContent=`${n}s`,document.getElementById("steps-value").textContent=`${e}`}function j(){return v}function Z(n){D=n}function ae(){return D}function q(){return U}function H(n){U=n}function I(n,e){y=[n,e]}function P(n,e){C=[n,e]}function G(){return y}function O(){return C}let m,R,J,K=!1,A,E=0,Q=[];async function ne(){K=!1,m=j();const n=[];for(let e=0;e<m.length;e++){n.push([]);for(let t=0;t<m[e].length;t++)m[e][t]===2?R=[e,t]:m[e][t]===3&&(J=[e,t]),e===0||e===m.length-1||t===0||t===m[e].length-1?n[e].push(1):n[e].push(0)}for(E=0,A=Date.now(),await N(n,R[0],R[1]),w(),await new Promise(requestAnimationFrame);Q.length>0;){let e=Q.pop();m[e[0]][e[1]]=4,w(),await new Promise(requestAnimationFrame)}F(A,E)}async function N(n,e,t){if(e===J[0]&&t===J[1]||q()===!0){K=!0;return}m[e][t]!==2&&m[e][t]!==3&&(m[e][t]=5),n[e][t]=1,w(),await new Promise(requestAnimationFrame);let a=[1,2,3,4];for(;a.length>0&&!K;){E++;let r=Math.floor(Math.random()*a.length);a[r]===1?e-1>0&&m[e-1][t]!==1&&!n[e-1][t]&&await N(n,e-1,t):a[r]===2?t+1<m.length-1&&m[e][t+1]!==1&&!n[e][t+1]&&await N(n,e,t+1):a[r]===3?e+1<m.length-1&&m[e+1][t]!==1&&!n[e+1][t]&&await N(n,e+1,t):t-1>0&&m[e][t-1]!==1&&!n[e][t-1]&&await N(n,e,t-1),a.splice(r,1),K&&q()===!1&&(e!==R[0]||t!==R[1])&&Q.push([e,t])}}async function re(){m=j();let n=G(),e=O(),t=[],a=[],r=[],l=new Set;for(let i=0;i<m.length;i++){t.push([]),a.push([]),r.push([]);for(let u=0;u<m.length;u++)t[i].push(1/0),a[i].push(0),r[i].push(null),m[i][u]!==1&&l.add(`${i},${u}`)}for(t[n[0]][n[1]]=0,E=0,A=Date.now();l.size>0&&!q();){E++;let i=null,u=1/0;for(let h of l){let[b,g]=h.split(",").map(Number);t[b][g]<u&&(u=t[b][g],i=[b,g])}if(i===null||i[0]===e[0]&&i[1]===e[1])break;let[s,c]=i;l.delete(`${s},${c}`),a[s][c]=1,!(s===n[0]&&c===n[1])&&!(s===e[0]&&c===e[1])&&(m[s][c]=5,w(),await new Promise(requestAnimationFrame));let p=[[-1,0],[1,0],[0,-1],[0,1]];for(let[h,b]of p){let g=s+h,k=c+b;if(g>=0&&g<m.length&&k>=0&&k<m.length&&m[g][k]!==1&&!a[g][k]){let X=t[s][c]+1;X<t[g][k]&&(t[g][k]=X,r[g][k]=[s,c])}}}let o=[],f=e;for(;f!==null;)o.unshift(f),f=r[f[0]][f[1]];F(A,E);for(let[i,u]of o)!(i===n[0]&&u===n[1])&&!(i===e[0]&&u===e[1])&&(m[i][u]=4,w(),await new Promise(requestAnimationFrame))}async function le(){m=j(),E=0;let n=[],e=[],t=[],a=new Map,r=new Set;function l(s,c){const p=Math.abs(s[0]-c[0]),h=Math.abs(s[1]-c[1]);return Math.min(p,h)*14+(Math.max(p,h)-Math.min(p,h))*10}let o=G(),f=O();for(let s=0;s<m.length;s++){n.push([]),e.push([]),t.push([]);for(let c=0;c<m.length;c++)n[s].push(1/0),e[s].push(1/0),t[s].push(null)}for(n[o[0]][o[1]]=0,e[o[0]][o[1]]=l(o,f),a.set(`${o[0]},${o[1]}`,e[o[0]][o[1]]),A=Date.now();a.size>0&&!q();){E++;let s=null,c=1/0;for(let[h,b]of a)b<c&&(c=b,s=h.split(",").map(Number));if(s===null||s[0]===f[0]&&s[1]===f[1])break;a.delete(`${s[0]},${s[1]}`),r.add(`${s[0]},${s[1]}`),!(s[0]===o[0]&&s[1]===o[1])&&!(s[0]===f[0]&&s[1]===f[1])&&(m[s[0]][s[1]]=5,w(),await new Promise(requestAnimationFrame));let p=[[-1,0],[1,0],[0,-1],[0,1]];for(let[h,b]of p){let g=[s[0]+h,s[1]+b];if(g[0]<0||g[0]>=m.length||g[1]<0||g[1]>=m.length||m[g[0]][g[1]]===1||r.has(`${g[0]},${g[1]}`))continue;let k=n[s[0]][s[1]]+1;k<n[g[0]][g[1]]&&(t[g[0]][g[1]]=s,n[g[0]][g[1]]=k,e[g[0]][g[1]]=n[g[0]][g[1]]+l(g,f),a.has(`${g[0]},${g[1]}`)||a.set(`${g[0]},${g[1]}`,e[g[0]][g[1]]))}}let i=[],u=f;for(;u!==null;)i.unshift(u),u=t[u[0]][u[1]];F(A,E);for(let[s,c]of i)!(s===o[0]&&c===o[1])&&!(s===f[0]&&c===f[1])&&(m[s][c]=4,w(),await new Promise(requestAnimationFrame))}document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelectorAll(".algorithm-button"),e=document.querySelector(".grid-container");n.forEach(t=>{t.addEventListener("dragstart",a=>{a.dataTransfer.setData("algorithm",a.target.dataset.algorithm)})}),e.addEventListener("dragover",t=>{t.preventDefault(),e.classList.add("drag-over")}),e.addEventListener("dragleave",t=>{e.contains(t.relatedTarget)||e.classList.remove("drag-over")}),e.addEventListener("drop",async t=>{t.preventDefault(),e.classList.remove("drag-over");const a=t.dataTransfer.getData("algorithm");if(!ae()){switch(Z(!0),W(),H(!1),a){case"backtracking-m":await se();break;case"backtracking-p":G()[0]!==-1&&O()[0]!==-1&&(H(!1),await ne());break;case"kruskals":await ie();break;case"dijkstra":G()[0]!==-1&&O()[0]!==-1&&(console.log("run"),H(!1),await re());break;case"astar":G()[0]!==-1&&O()[0]!==-1&&(H(!1),await le());break;case"prims":await oe();break}Z(!1)}})});var d,S,M=0;async function se(){d=j();let n=[];for(let a=0;a<d.length;a++){n.push([]);for(let r=0;r<d[a].length;r++)a===0||a===d.length-1||r===0||r===d[a].length-1?(d[a][r]=1,n[a].push(1)):!(r%2)||!(a%2)?(d[a][r]=1,n[a].push(0)):(d[a][r]=5,n[a].push(0))}w(),await new Promise(requestAnimationFrame);let e=Math.floor(Math.random()%(d.length-2));e=e%2?e:e+1;let t=Math.floor(Math.random()%(d.length-2));t=t%2?t:t+1,S=Date.now(),M=0,await T(e,t,n,e,t),I(1,1),P(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,F(S,M),w()}async function T(n,e,t,a,r){if(q()===!0)return;t[a][r]=1;let l=[1,2,3,4];for(;l.length>0&&q()===!1;){M++,d[a][r]=0;let o=Math.floor(Math.random()*l.length);l[o]===1?a-2>-1&&!t[a-2][r]&&(t[a-2][r]=1,d[a-1][r]=0,w(),await new Promise(requestAnimationFrame),await T(n,e,t,a-2,r)):l[o]===2?r+2<d.length&&!t[a][r+2]&&(t[a][r+2]=1,d[a][r+1]=0,w(),await new Promise(requestAnimationFrame),await T(n,e,t,a,r+2)):l[o]===3?r-2>-1&&!t[a][r-2]&&(t[a][r-2]=1,d[a][r-1]=0,w(),await new Promise(requestAnimationFrame),await T(n,e,t,a,r-2)):l[o]===4&&a+2<d.length&&!t[a+2][r]&&(t[a+2][r]=1,d[a+1][r]=0,w(),await new Promise(requestAnimationFrame),await T(n,e,t,a+2,r)),l.splice(o,1)}}async function ie(){d=j();let n=[],e=[],t=[],a=[],r=0;for(let l=0;l<d.length;l++){n.push([]),t.push([]),a.push([]);for(let o=0;o<d.length;o++)n[l].push([l,o]),t[l].push(Math.floor(Math.random()*5)+6),a[l].push(1),l===0||l===d.length-1||o===0||o===d.length-1?d[l][o]=1:!(o%2)||!(l%2)?(d[l][o]=1,l%2===0&&o%2===0||e.push([l,o])):(d[l][o]=t[l][o],r++)}for(w(),S=Date.now(),M=0;e.length>0&&!q();){M++;let l=Math.floor(Math.random()*e.length),o=e[l][0],f=e[l][1];if(o%2===0){let i=[o-1,f],u=[o+1,f];if(!te(n,i,u)){d[o][f]=0;let s=L(n,i),c=L(n,u),p=a[s[0]][s[1]],h=a[c[0]][c[1]],b,g;if(p>=h){if(b=t[s[0]][s[1]],g=s,a[s[0]][s[1]]+=h,a[s[0]][s[1]]===r)break}else if(b=t[c[0]][c[1]],g=c,a[c[0]][c[1]]+=p,a[c[0]][c[1]]===r)break;x(n,t,p>=h?c:s,b),n[o][f]=g,t[o][f]=b,d[o][f]=b,ee(n,p>=h?u:i,p>=h?i:u)}}else{let i=[o,f-1],u=[o,f+1];if(!te(n,i,u)){d[o][f]=0;let s=L(n,i),c=L(n,u),p=a[s[0]][s[1]],h=a[c[0]][c[1]],b,g;if(p>=h){if(b=t[s[0]][s[1]],g=s,a[s[0]][s[1]]+=h,a[s[0]][s[1]]===r)break}else if(b=t[c[0]][c[1]],g=c,a[c[0]][c[1]]+=p,a[c[0]][c[1]]===r)break;x(n,t,p>=h?c:s,b),n[o][f]=g,t[o][f]=b,d[o][f]=b,ee(n,p>=h?u:i,p>=h?i:u)}}e.splice(l,1),w(),await new Promise(requestAnimationFrame)}for(let l=0;l<d.length;l++){for(let o=0;o<d.length;o++)d[l][o]!==1&&(d[l][o]=0);w(),await new Promise(requestAnimationFrame)}F(S,M),I(1,1),P(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,w()}function x(n,e,t,a){let r=[t],l=new Set;for(l.add(`${t[0]},${t[1]}`);r.length>0;){let[o,f]=r.shift();e[o][f]=a,d[o][f]=a;let i=[[-1,0],[1,0],[0,-1],[0,1]];for(let[u,s]of i){let c=o+u,p=f+s,h=`${c},${p}`;if(c>=0&&c<n.length&&p>=0&&p<n[0].length&&!l.has(h)){let b=L(n,[c,p]);b[0]===t[0]&&b[1]===t[1]&&(r.push([c,p]),l.add(h))}}}}function L(n,e){let[t,a]=e,r=[];for(;n[t][a][0]!==t||n[t][a][1]!==a;)r.push([t,a]),[t,a]=n[t][a];let l=[t,a];for(let[o,f]of r)n[o][f]=l;return l}function ee(n,e,t){let a=L(n,e),r=L(n,t);n[a[0]][a[1]]=r}function te(n,e,t){let a=L(n,e),r=L(n,t);return a[0]===r[0]&&a[1]===r[1]}async function oe(){M=0,d=j();let n=[];for(let r=0;r<d.length;r++){n.push([]);for(let l=0;l<d.length;l++)n[r].push(0)}for(let r=0;r<d.length;r++)for(let l=0;l<d.length;l++)r===0||r===d.length-1||l===0||l===d.length-1||!(l%2)||!(r%2)?d[r][l]=1:d[r][l]=5;w();let e=Math.floor(Math.random()*(d.length-2)/2)*2+1,t=Math.floor(Math.random()*(d.length-2)/2)*2+1;n[e][t]=1,d[e][t]=0;let a=[];for(e>1&&a.push([e-1,t]),e<d.length-2&&a.push([e+1,t]),t>1&&a.push([e,t-1]),t<d.length-2&&a.push([e,t+1]),S=Date.now();a.length>0&&!q();){M++;let r=Math.floor(Math.random()*a.length),[l,o]=a[r],f,i;l%2===0?(f=[l-1,o],i=[l+1,o]):(f=[l,o-1],i=[l,o+1]);let u=n[f[0]][f[1]],s=n[i[0]][i[1]];if(u!==s){d[l][o]=0;let c=u?i:f;n[c[0]][c[1]]=1,d[c[0]][c[1]]=0;let[p,h]=c;p>1&&!n[p-2][h]&&a.push([p-1,h]),p<d.length-2&&!n[p+2][h]&&a.push([p+1,h]),h>1&&!n[p][h-2]&&a.push([p,h-1]),h<d.length-2&&!n[p][h+2]&&a.push([p,h+1]),w(),await new Promise(requestAnimationFrame)}a.splice(r,1)}F(S,M),I(1,1),P(d.length-2,d.length-2),d[1][1]=2,d[d.length-2][d.length-2]=3,w()}document.querySelector("#app").innerHTML=`
  <div class="app-container"> 
    <div class="main-header">
      <header>
        <h1>Maze Generation & Pathfinding Visualizer</h1>
        <p id="my-info">by <a href="https://github.com/csrountree0" target="_blank">Colby Rountree</a></p>
      </header>
    </div>
    
    <div class="visualization-container">
      <div class="controls-panel">
        <div class="control-group">
          <div class="size-control">
            <label for="grid-size">Grid Size:</label>
            <select id="grid-size">
              <option value="9">9x9</option>
              <option value="19" selected>19x19</option>
              <option value="29">29x29</option>
              <option value="39">39x39</option>
              <option value="49">49x49</option>
              <option value="59">59x59</option>
              <option value="69">69x69</option>
            </select>
          </div>
          <button class="reset-button" id="reset-grid">Reset Grid</button>
          <button class ="reset-button" id="reset-paths">Reset Paths</button>
        </div>

        <div class="section-controls">
          <h2>Maze Generation</h2>
          <div class="algorithm-buttons">
            <button draggable="true" class="algorithm-button" data-algorithm="backtracking-m">
              <span class="button-label">Backtracking</span>
              <span class="button-desc">Depth-first search maze generation</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="kruskals">
              <span class="button-label">Kruskal's</span>
              <span class="button-desc">Randomized maze with minimum spanning tree</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="prims">
              <span class="button-label">Prim's</span>
              <span class="button-desc">Minimum spanning tree maze generation</span>
            </button>
          </div>
        </div>

        <div class="section-controls">
          <h2>Pathfinding</h2>
          <div class="algorithm-buttons">
            <button draggable="true" class="algorithm-button" data-algorithm="backtracking-p">
              <span class="button-label">Backtracking</span>
              <span class="button-desc">Depth-first path search</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="dijkstra">
              <span class="button-label">Dijkstra's</span>
              <span class="button-desc">Shortest path algorithm</span>
            </button>
            <button draggable="true" class="algorithm-button" data-algorithm="astar">
              <span class="button-label">A*</span>
              <span class="button-desc">Heuristic-based pathfinding</span>
            </button>
          </div>
        </div>
      </div>

      <div class="grids-container">
        <div class="grid-section">
          <div class="grid-header">
            <h3>Algorithm Stats</h3>
            <div class="algorithm-stats">
              <span class="stat-label">Time:</span>
              <span class="stat-value" id="time-value">0s</span>
              <span class="stat-label">Steps:</span>
              <span class="stat-value" id="steps-value">0</span>
            </div>
          </div>
          <div class="grid-container" id="grid"></div>
        </div>
      </div>
    </div>
  </div>
`;
